use cet;
#----------------------------------------------------
#******************
#TABLE CREATION
#*******************
#------------------------------------------------------
DROP TABLE COLLEGE;
CREATE TABLE COLLEGE
(
COLLEGE_ID INT PRIMARY KEY,
EDU_FIELD VARCHAR(15)
);

 ALTER TABLE COLLEGE 
 ADD 
 STUDENT_ID INT;
 
 ALTER TABLE COLLEGE
 ADD
 FOREIGN KEY(STUDENT_ID) REFERENCES STUDENT(STUDENT_ID);
 #******************
#INSERTION
#*******************
#------------------------------------------------------
INSERT INTO COLLEGE VALUES (1,'CS');
INSERT INTO COLLEGE VALUES (2,'CIVIL');
INSERT INTO COLLEGE VALUES (3,'MECHANICAL');
INSERT INTO COLLEGE VALUES (4,'AERONAUTICAL');
INSERT INTO COLLEGE VALUES (5,'AUTOMOBILE');
INSERT INTO COLLEGE VALUES (6,'EC');
INSERT INTO COLLEGE VALUES (7,'CIVIL');
INSERT INTO COLLEGE VALUES (8,'CS');
INSERT INTO COLLEGE VALUES (9,'MECHANICAL');
INSERT INTO COLLEGE VALUES (10,'AERONAUTICAL');


#-----------------------------------------------------------

DROP TABLE STUDENT;
CREATE TABLE STUDENT
(
STUDENT_ID INT PRIMARY KEY,
STUDENT_RANK INT,
STUDENT_NAME VARCHAR(20),
PREFERED_COLLEGE_1 VARCHAR(20),
PREFERED_COLLEGE_2 VARCHAR(20),
PREFERD_COLLEGE_3 VARCHAR(20)

);
#******************
#INSERTION
#*******************
INSERT INTO STUDENT VALUES (1,15000,'LIKITHA','CS','CIVIL','AERONAUTICAL');
INSERT INTO STUDENT VALUES (2,250000,'ROHAN','MECHANICAL','CIVIL','AUTOMOBILE');
INSERT INTO STUDENT VALUES (3,50000,'RITHIKA','CIVIL','CS','AUTOMOBILE');
INSERT INTO STUDENT VALUES (4,500,'ROHAN','AUTOMOBILE','CIVIL','AERONAUTICAL');
INSERT INTO STUDENT VALUES (5,150000,'POOJA','CS','MECHANICAL','AERONAUTICAL');
INSERT INTO STUDENT VALUES (6,5000,'PRIYANKA','CS','CIVIL','AERONAUTICAL');
INSERT INTO STUDENT VALUES (7,1,'KARTHIK','MECHANICAL','AUTOMOBILE','AERONAUTICAL');
INSERT INTO STUDENT VALUES (8,10,'SHAURYA','MECHANICAL','CIVIL','AERONAUTICAL');
INSERT INTO STUDENT VALUES (9,150000,'RANJITHA','MECHANICAL','AUTOMOBILE','AERONAUTICAL');
INSERT INTO STUDENT VALUES (10,85,'SHRAVAN','AUTOMIBILE','CIVIL','AERONAUTICAL');



#------------------------------------------------------
DROP TABLE KCET;
CREATE TABLE KCET
(
STUDENT_RANK INT PRIMARY KEY,
STUDENT_ID INT,
COLLEGE_ID INT ,
EDU_FIELD VARCHAR(15),
TOTAL_SEATS_ALLOWTED INT,
FOREIGN KEY (COLLEGE_ID) REFERENCES COLLEGE(COLLEGE_ID),
FOREIGN KEY (STUDENT_ID) REFERENCES STUDENT(STUDENT_ID)
);
#******************
#INSERTION
#*******************

INSERT INTO KCET VALUES( 15000,1,1,'CS',50000);
INSERT INTO KCET VALUES(250000,2,2,'CIVIL',50000);
INSERT INTO KCET VALUES(50000,3,3,'MECHANICAL',50000);
INSERT INTO KCET VALUES(500,4,4,'AERONAUTICAL',50000);
INSERT INTO KCET VALUES(150000,5,5,'AUTOMOBILE',50000);
INSERT INTO KCET VALUES(5000,6,6,'EC',50000);

INSERT INTO KCET VALUES(5000,5,'EC',50000);

#------------------------------------------------------
DROP TABLE CS;
CREATE TABLE CS
(
CS_ID INT PRIMARY KEY,
COLLEGE_ID INT,
EDU_FIELD_NAME VARCHAR(20),
SEATS_ALLOWTED INT,
FOREIGN KEY (COLLEGE_ID) REFERENCES COLLEGE(COLLEGE_ID)
);
#******************
#INSERTION
#*******************
INSERT INTO CS VALUES(1,1,'CS',50000);
INSERT INTO CS VALUES(2,2,'CS',50000);
INSERT INTO CS VALUES(3,3,'CS',50000);
INSERT INTO CS VALUES(4,4,'CS',50000);
INSERT INTO CS VALUES(5,5,'CS',50000);
INSERT INTO CS VALUES(6,6,'CS',50000);
#------------------------------------------------------
DROP TABLE EC;
CREATE TABLE EC
(
EC_ID INT PRIMARY KEY,
COLLEGE_ID INT,
EDU_FIELD_NAME VARCHAR(15),
SEATS_ALLOWTED INT,

FOREIGN KEY (COLLEGE_ID) REFERENCES COLLEGE(COLLEGE_ID)
);
#******************
#INSERTION
#*******************
INSERT INTO EC VALUES(1,1,'EC',50000);
INSERT INTO EC VALUES(2,2,'EC',50000);
INSERT INTO EC VALUES(3,3,'EC',50000);
INSERT INTO EC VALUES(4,4,'EC',50000);
INSERT INTO EC VALUES(5,5,'EC',50000);
INSERT INTO EC VALUES(6,6,'EC',50000);
#------------------------------------------------------
DROP TABLE MECHANICAL;
CREATE TABLE MECHANICAL
(
MECH_ID INT PRIMARY KEY,
COLLEGE_ID INT,
EDU_FIELD_NAME VARCHAR(15),
SEATS_ALLOWTED INT,
FOREIGN KEY (COLLEGE_ID) REFERENCES COLLEGE(COLLEGE_ID)
);
#******************
#INSERTION
#*******************
INSERT INTO MECHANICAL VALUES(1,1,'MECHANICAL',50000);
INSERT INTO MECHANICAL VALUES(2,2,'MECHANICAL',50000);
INSERT INTO MECHANICAL VALUES(3,3,'MECHANICAL',50000);
INSERT INTO MECHANICAL VALUES(4,4,'MECHANICAL',50000);
INSERT INTO MECHANICAL VALUES(5,5,'MECHANICAL',50000);
INSERT INTO MECHANICAL VALUES(6,6,'MECHANICAL',50000);
#------------------------------------------------------
DROP TABLE CIVIL;
CREATE TABLE CIVIL
(
CIVIL_ID INT PRIMARY KEY,
COLLEGE_ID INT,
EDU_FIELD_NAME VARCHAR(15),
SEATS_ALLOWTED INT,
FOREIGN KEY (COLLEGE_ID) REFERENCES COLLEGE(COLLEGE_ID)
);
#******************
#INSERTION
#*******************
INSERT INTO CIVIL VALUES(1,1,'CIVIL',50000);
INSERT INTO CIVIL VALUES(2,2,'CIVIL',50000);
INSERT INTO CIVIL VALUES(3,3,'CIVIL',50000);
INSERT INTO CIVIL VALUES(4,4,'CIVIL',50000);
INSERT INTO CIVIL VALUES(5,5,'CIVIL',50000);
INSERT INTO CIVIL VALUES(6,6,'CIVIL',50000);
#------------------------------------------------------
DROP TABLE AERONAUTICAL;
CREATE TABLE AERONAUTICAL
(
AERO_ID INT PRIMARY KEY,
COLLEGE_ID INT,
EDU_FIELD_NAME VARCHAR(15),
SEATS_ALLOWTED INT,
FOREIGN KEY (COLLEGE_ID) REFERENCES COLLEGE(COLLEGE_ID)
);
#******************
#INSERTION
#*******************
INSERT INTO AERONAUTICAL VALUES(1,1,'AERONAUTICAL',50000);
INSERT INTO AERONAUTICAL VALUES(2,2,'AERONAUTICAL',50000);
INSERT INTO AERONAUTICAL VALUES(3,3,'AERONAUTICAL',50000);
INSERT INTO AERONAUTICAL VALUES(4,4,'AERONAUTICAL',50000);
INSERT INTO AERONAUTICAL VALUES(5,5,'AERONAUTICAL',50000);
INSERT INTO AERONAUTICAL VALUES(6,6,'AERONAUTICAL',50000);
#------------------------------------------------------
DROP TABLE AUTOMOBILE;
CREATE TABLE AUTOMOBILE
(
AM_ID INT PRIMARY KEY,
COLLEGE_ID INT,
EDU_FIELD_NAME VARCHAR(15),
SEATS_ALLOWTED INT,
FOREIGN KEY (COLLEGE_ID) REFERENCES COLLEGE(COLLEGE_ID)
);
INSERT INTO AUTOMOBILE VALUES(1,1,'AUTOMOBILE',50000);
INSERT INTO AUTOMOBILE VALUES(2,2,'AUTOMOBILE',50000);
INSERT INTO AUTOMOBILE VALUES(3,3,'AUTOMOBILE',50000);
INSERT INTO AUTOMOBILE VALUES(4,4,'AUTOMOBILE',50000);
INSERT INTO AUTOMOBILE VALUES(5,5,'AUTOMOBILE',50000);
INSERT INTO AUTOMOBILE VALUES(6,6,'AUTOMOBILE',50000);
#******************
#SELECT * 
#*******************
#------------------------------------------------------

SELECT * FROM COLLEGE;
SELECT * FROM KCET;
select * FROM STUDENT;
select * FROM CS;
select * FROM EC;
select * FROM CIVIL;
select * FROM MECHANICAL;
select * FROM AERONAUTICAL;
select * FROM AUTOMOBILE;
#**************************************************
#KNOW YOUR ALOTTED FIELD HERE:

SELECT S.STUDENT_ID,S.STUDENT_NAME,K.STUDENT_RANK,K.EDU_FIELD
FROM STUDENT AS S , KCET AS K
WHERE
S.STUDENT_ID=K.STUDENT_ID
AND
S.STUDENT_RANK=5000;
