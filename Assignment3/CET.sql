CREATE TABLE STUDENT
(
  STUDENT_ID int PRIMARY KEY,
  STUDENT_RANK int,
  STUDENT_NAME varchar(20) ,
  PREFERED_COLLEGE_1 varchar(20) ,
  PREFERED_COLLEGE_2 varchar(20) ,
  PREFERD_COLLEGE_3 varchar(20) 
);
DROP TABLE STUDENT;
DROP TABLE KCET;
CREATE TABLE KCET (
KCET_ID INT PRIMARY KEY,
  STUDENT_ID int ,
  COLLEGE_ID1 INT,
  COLLEGE_ID2 INT,
  COLLEGE_ID3 INT,
  COLLEGE_ID4 INT,
  TOTAL_SEATS_ALLOWTED int ,
FOREIGN KEY (STUDENT_ID) REFERENCES student (STUDENT_ID),
FOREIGN KEY (COLLEGE_ID1) REFERENCES COLLEGE1(COLLEGE_ID1),
FOREIGN KEY (COLLEGE_ID2) REFERENCES COLLEGE2(COLLEGE_ID2),
FOREIGN KEY (COLLEGE_ID3) REFERENCES COLLEGE3(COLLEGE_ID3),
FOREIGN KEY (COLLEGE_ID4) REFERENCES COLLEGE4(COLLEGE_ID4)
);

DROP TABLE COLLEGE4;
CREATE TABLE COLLEGE1
(
COLLEGE_ID1 INT PRIMARY KEY,
COURSE_OFFERED VARCHAR(20),
SEAT INT,
RANK_REQUIRED INT
);

CREATE TABLE COLLEGE2
(
COLLEGE_ID2 INT PRIMARY KEY,
COURSE_OFFERED VARCHAR(20),
SEAT INT,
RANK_REQUIRED INT
);

CREATE TABLE COLLEGE3
(
COLLEGE_ID3 INT PRIMARY KEY,
COURSE_OFFERED VARCHAR(20),
SEAT INT,
RANK_REQUIRED INT
);

CREATE TABLE COLLEGE4
(
COLLEGE_ID4 INT PRIMARY KEY,
COURSE_OFFERED VARCHAR(20),
SEAT INT,
RANK_REQUIRED INT

);



#-----INSEERTION

INSERT INTO STUDENT VALUES(1,15000,'RIYA','CS','MECHANICAL','CIVIL');
INSERT INTO STUDENT VALUES(2,150,'ARYA','AUTOMOBILE','MECHANICAL','CIVIL');
INSERT INTO STUDENT VALUES(3,1500,'REVA','CIVIL','MECHANICAL','CS');
INSERT INTO STUDENT VALUES(4,100,'RANA','CS','AUTOMOBILE','CIVIL');


INSERT INTO KCET VALUES(1,1,1,1,1,1,500000);
INSERT INTO KCET VALUES(2,2,2,2,2,2,70000);
INSERT INTO KCET VALUES(3,3,3,3,3,3,250000);
INSERT INTO KCET VALUES(4,4,4,4,4,4,80000);

INSERT INTO COLLEGE1 VALUES(1,'CIVIL',10000,1500);
INSERT INTO COLLEGE1 VALUES(2,'CS',50000,150);
INSERT INTO COLLEGE1 VALUES(3,'AUTOMIBILE',10000,100);
INSERT INTO COLLEGE1 VALUES(4,'MECHANICAL',1000,25000);


INSERT INTO COLLEGE2 VALUES(1,'CS',1000,15000);
INSERT INTO COLLEGE2 VALUES(2,'CIVIL',45000,13400);
INSERT INTO COLLEGE2 VALUES(3,'ELECTRONIC',230000,1050);
INSERT INTO COLLEGE2 VALUES(4,'AUTOMBILE',100,100);

INSERT INTO COLLEGE3 VALUES(1,'ELECTRONIC',1000,15000);
INSERT INTO COLLEGE3 VALUES(2,'CS',45000,13400);
INSERT INTO COLLEGE3 VALUES(3,'ELECTRONIC',230000,1050);
INSERT INTO COLLEGE3 VALUES(4,'AUTOMBILE',100,100);

INSERT INTO COLLEGE4 VALUES(1,'AUTOBILE',1000,15000);
INSERT INTO COLLEGE4 VALUES(2,'CIVIL',45000,13400);
INSERT INTO COLLEGE4 VALUES(3,'ELECTRONIC',230000,1050);
INSERT INTO COLLEGE4 VALUES(4,'MECHANICAL',100,100);

SELECT * FROM STUDENT;
SELECT * FROM KCET;
SELECT * FROM COLLEGE1;
SELECT * FROM COLLEGE2;
SELECT * FROM COLLEGE3;
SELECT * FROM COLLEGE4;

#QUERY

SELECT STUDENT.STUDENT_ID,STUDENT.STUDENT_NAME,STUDENT_RANK,COLLEGE1.COLLEGE_ID1,COLLEGE1.COURSE_OFFERED
FROM( 
STUDENT
INNER JOIN COLLEGE1 ON STUDENT.STUDENT_ID=COLLEGE1.COLLEGE_ID1)
WHERE
STUDENT_RANK BETWEEN 1000 AND 15000;

SELECT STUDENT.STUDENT_ID,STUDENT.STUDENT_NAME,STUDENT_RANK,COLLEGE3.COLLEGE_ID3,COLLEGE3.COURSE_OFFERED
FROM( 
STUDENT
INNER JOIN COLLEGE3 ON STUDENT.STUDENT_ID=COLLEGE3.COLLEGE_ID3)
WHERE
STUDENT_RANK BETWEEN 10 AND 500;

SELECT STUDENT.STUDENT_ID,STUDENT.STUDENT_NAME,STUDENT_RANK,COLLEGE4.COLLEGE_ID4,COLLEGE4.COURSE_OFFERED
FROM( 
STUDENT
INNER JOIN COLLEGE4 ON STUDENT.STUDENT_ID=COLLEGE4.COLLEGE_ID4)
WHERE
STUDENT_RANK BETWEEN 0 AND 60000;

SELECT STUDENT.STUDENT_ID,STUDENT.STUDENT_NAME,STUDENT_RANK,COLLEGE2.COLLEGE_ID2,COLLEGE2.COURSE_OFFERED
FROM( 
STUDENT
INNER JOIN COLLEGE2 ON STUDENT.STUDENT_ID=COLLEGE2.COLLEGE_ID2)
WHERE
STUDENT_RANK BETWEEN 100 AND 50000;